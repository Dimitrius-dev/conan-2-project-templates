# Conan-server-project template
___
### Описание
___
Использования сервера Conan 2.0 для хранения библиотек.
___
Сам сервер был помещен в Docker образ для удобства развертывания.

### Этапы развертывания
___
1. Создайте Docker volume для хранения всех накопленных библиотек.
Именно это хранилище будет хранить все пакеты библиотек даже при отсутствии запущенных контейнеров.
Создайте volume с именем conan_db с помощью команды:
```
docker volume create conan_db
```
2. В папке ```conan-server-build``` лежит файл ```docker-compose.yml``` для корректного запуска всех контейнеров.
Установите настройки в ```docker-compose.yml```.
Пример настроек представлен ниже:
```
version: "3"
services:
  conan_server:
    build: ./conan-server-image
    environment:
      - HOST_NAME=ad_conan_server
      - PORT=9345
    volumes:
      - conan_db:/data
    ports:
      - "9300:9345"

volumes:
  conan_db:
    external: true
```

С помощью блока ```environment``` можно задать настройки запуска контейнера с сервером.
```HOST_NAME``` - имя для сервера conan
```PORT``` - порт для сервера conan

В блоке ```ports``` можно настройть внешний порт доступа (внешний) контейнера
и порт на который он прокидывается внутри контейнера (внутренний).  
Схема портов ```"[внешний порт]:[внутренний порт]"```, пример: ```"9300:9345"```

3. Соберите образ и запустите контейнер от него с помощью команды
в папке с файлом ```docker-compose.yml```:
```
docker-compose up
```